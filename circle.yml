machine:
  ghc:
    version: 7.8.2
  cabal-install:
    version: 1.18

checkout:
  post:
    - git submodule update --init

# NOTE: R is already included in the base image.

dependencies:
  override:
    - cabal update
    - make sandbox
  # TODO: To cache or not to cache?
  # cache_directories:
  #   - .cabal-sandbox

test:
  pre:
    - make configure
    - make build
  override:
    - make test
    - make doc
