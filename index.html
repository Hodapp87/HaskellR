---
layout: default
title: Project H - programming R in Haskell
id: home
---
<div class="jumbotron">
  <div class="container">
    <div class="page-header">
      <h1>Project H <br /> <small>Programming R in Haskell</small></h1>
    </div>
    <p> <a class="btn btn-lg btn-primary" role="button" href="/H/downloads.html">Download</a> &nbsp;
        <a class="btn btn-lg btn-primary" role="button" href="/H/docs/build-and-install.html">Getting started</a>
    </p>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-md-4">
      <h2>Comprehensive</h2>
      <p>The full power of R's extensive standard library at your
      fingertips, plus virtually all CRAN packages, which work from
      Haskell just as they would from R.
      <!-- <p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p> -->
    </div>
    <div class="col-md-4">
      <h2>Safe</h2>
      <p>Optional type annotations let you leverage the full power of
          Haskell's type system to program R safely. Region-based
          memory allocation means precise and predictable memory usage
          without the dangers: Haskell's type system has your back to
          statically guarantee the absence of use-after-free bugs.</p>
      <p><a class="btn btn-default" href="/H/docs/managing-memory.html" role="button">View details &raquo;</a></p>
   </div>
    <div class="col-md-3">
      <h2>Fast</h2>
      <p>Zero marshalling language interop, for crossing language
      boundaries extremely efficiently at runtime. Mapping an
      R function over a million element container from Haskell is just
      as fast as from R.</p>
      <p><a class="btn btn-default" href="/H/docs/internal-structures.html" role="button">View details &raquo;</a></p>
    </div>
 </div>

<hr />

<div class="container">
  <div class="row">
  <div class="col-md-7">
  <div style="text-align: justify; line-height: 1.6">
       <h1> Why H? </h1>
       <p> The ideas to have interporability solution between R and other languages are not new. Some
             people finding R semantics hard, some don't like absence of statical analisys, some don't like
             speed, but still R is de-facto one of the main tools used in statistical analysys, with a huge
             number of libraries. As a result there are bindings for many languages (including Haskell), that
             allow user to access R functionality from those language, however with this bindings user have
             to write much boilerplace without relying on static analisys much. And even there are reimplementation
             of R in the other languages (...).<p>
       
       <div>H tries to solves some of the problems and eventually will solve even more. The main idea is
             to provide an ability to write R in R within haskell. 
             <ul>
               <li><span class="glyphicon glyphycon-ok"></span>R experts don't need to learn new language in order to run analysys</li>
               <li>Haskell experts can just take programs from R examples without reimplement them using biniding.</li>
             </ul>
       </div>
       
       <div>There are few Haskell solutions that includes: simple bindings, quasi-quoters,
       <ul>
         <li><a href="https://hackage.haskell.org/package/Rlang-QQ">Rlang-QQ</a> &mdash;
             brief description
         </li>
         <li><a href="https://hackage.haskell.org/package/hR">hR</a> &mdash;
             brief description
         </li>
       </ul>
       </div>
       
       <div>We are aware of those libraries and integrated best ideas from those.
       <ul>
         <li> Quasi-Quoter that allow to embedd R code into haskell without boilerplace</li>
         <li> R and Haskell runs in the same address space, so zero-cost structure sharing
              is possible</li>
         <li> ... </li>
       </ul>
       </div>
    </div>
  </div>
  <div class="col-md-3">
    Some graphics or text in order to fit the space
  </div>
  </div>
</div>

<hr />

<div class="container">
  <h1> Code examples </h1>
  <h3> Clustering example </h3>
  <div class="row">
  <div class="col-md-5">
<pre>
{-# LANGUAGE QuasiQuotes #-}
{-# LANGUAGE ScopedTypeVariables #-}
import H.Prelude as H
import Language.R.QQ

import System.Random

main = H.withEmbeddedR defaultConfig $ do
  H.runRegion $ do
    -- Put any complex model here
    std <- io $ newStdGen
    let (xs::[Double]) = take 100 $ randoms std
    d  <- [r| matrix(xs_hs,ncol=2) |]
    rv <- [r| clusters <- kmeans(d_hs, 2) |]
    [r| par(mar = c(5.1, 4.1, 0, 1));
        plot(d_hs, col=rv_hs$cluster, pch = 20
            , cex = 3, xlab="x", ylab="y");
        points(rv_hs$centers, pch =4, cex = 4, lwd= 4);
      |]
    return ()
</pre>
    </div>
    <div class="col-md-4">
      <a href="img/cluster-1.png" class="thumbnail" target="_blank">
        <img src="img/cluster-1-thumb.png"/>
      </a>

      <a class="btn btn-lg btn-primary" role="button" href="/H/examples/">Get more examples &raquo;</a>
    </div>
  </div>
</div>
